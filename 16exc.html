<!DOCTYPE html>
<html>
<body>

<h2>16 EXCERCISE</h2>

<script>
	// Exc 1
	console.log("Exc 1");
	var today = new Date();
	var dd = today.getDate();

	var mm = today.getMonth()+1; 
	var yyyy = today.getFullYear();
	if(dd<10) 
	{
	    dd='0'+dd;
	} 

	if(mm<10) 
	{
	    mm='0'+mm;
	} 
	today = dd+'/'+mm+'/'+yyyy+" "+today.getHours()+" hrs "+today.getMinutes()+" mins "+today.getSeconds()+" secs ";
	console.log(today);
	
	// Exc 2
	console.log('Exc2');

	var numArray = [23, 12, 19, -4, 7.5];
	max = numArray[0];
	for( var i = 1; i < numArray.length; i++)
	{
	    if( max < numArray[i] )
	     max = numArray[i];
	}

	console.log('The largest of 5 numbers = '+max);

	//Exc3
	console.log('Exc3');

	var num = prompt('Enter number','678');
	       var str = num.toString();
	       var result = [str[0]];

	       for(var x=1; x<str.length; x++)
	        {
	            if((str[x-1]%2 === 0)&&(str[x]%2 === 0))
	             {
	              result.push('-', str[x]);
	             }
	            else
	             {
	              result.push(str[x]);
	             }
	        }
	        console.log(result.join(''));

	//Exc 4
	console.log('Exc4');    

	var strArray = ['bdbja','zxvhxe','azvhdc','iuegc','cncee'];

	for( var i = strArray.length; i > 0; i--)
	{
	    for ( var j = 0; j < i; j++)
	    {
	        if ( strArray[j] > strArray[j+1] )
	        {
	           temp = strArray[j];
	           strArray[j] = strArray[j+1];
	           strArray[j+1] = temp;
	        }
	    }
	}    

	console.log(strArray);

	// Exc 5
	console.log("Exc 5");
	let array_with_duplicates = ['DELHI','NEWYORK','DELHI','GOA','MUMBAI','CALIFORNIA','GOA'];
	
	function removeDuplicateUsingSet(arr){
	    let unique_array = Array.from(new Set(arr))
	    return unique_array
	}

	console.log(removeDuplicateUsingSet(array_with_duplicates));

	//Exc6
	console.log('Exc6');

	var arr1 = [2, 4, 7, 0, 13, 3];
	var arr2 = [4, 5, 6, 7, 1, 2];

	for ( var i = 0; i < arr1.length; i++)
	{
	    arr1[i] = arr1[i] - arr2[i]; 
	}
	console.log(arr1);

	   
	//Exc7
	console.log('Exc7');

	var library = [
	{ author: 'Bill Gates', title: 'The Road Ahead', libraryID: 1254},
	{ author: 'Steve Jobs', title: 'Walter Isaacson', libraryID: 4264},
	{ author: 'Suzanne Collins', title: 'Mockingjay: The Final Book of The Hunger Games', libraryID: 3245}
	];

	library.sort( function(a,b) {
	  var val1 = a.title;
	  var val2 = b.title;

	  if ( a >= b)
	       return 1;
	      else if ( a < b)
	       return -1;
	      else
	    return 0;
	});  

	console.log(library);

	//Exc 8

	console.log("Exc 8")
	function is_email(str)
	{

	  regexp = /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;
	  
	        if (regexp.test(str))
	        {
	          return true;
	        }
	        else
	        {
	          return false;
	        }
	}

	console.log(is_email("rajat@gmail.com"));
	console.log(is_email("mysite@.org.org "));
	
	//Exc 9
	console.log("Exc 9");
	var student = {
	'name' : 'Rajat',
	'sclass' : "Mechanical" ,
	'rollno' : 122
	}

	console.log('Name :'+student.name);
	console.log('CLass :'+student.sclass);
	console.log('Rollno :'+student.rollno);

	// Exc 10
	console.log("Exc 10")
	var student = [
	{
		name: 'David',
		marks: 80,
		alreadyRead: true
	},
	{   
		name: 'Vinoth',
		marks: 77,
		alreadyRead: false
	},
	{
		name: 'Divya',
		marks: 88,
		alreadyRead: false
	},
	{   
		name: 'Ishitha',
		marks: 95,
		alreadyRead: false
	},
	{
		name: 'Thomas',
		marks: 68,
		alreadyRead: false
	}];
	var sum = 0;
	for (var i = 0;	i< student.length;i++)
	{
		sum +=student[i].marks; 
	}
	var avg = sum/student.length; 
	console.log(avg);

	// Exc 11
	console.log('Exc11');
	function alphabet_order(str)
	  {
	return str.split('').sort().join('');
	  }
	console.log(alphabet_order("webmaster"));

	// Exc 12
	console.log('\nExc12');
	function char_count(str, letter) 
	{
	 var letter_Count = 0;
	 for (var position = 0; position < str.length; position++) 
	 {
	    if (str.charAt(position) == letter) 
	      {
	      letter_Count += 1;
	      }
	  }
	  return letter_Count;
	}

	console.log('Occurences = '+char_count('gmail.com', 'm'));

	// Exc 13
	console.log('Exc13');
	var flatten = function(a, shallow,r){
	  if(!r){ r = []}
	   
	if (shallow) {
	  return r.concat.apply(r,a);
	  }
	      
	   for(var i=0; i<a.length; i++){
	        if(a[i].constructor == Array){
	            flatten(a[i],shallow,r);
	        }else{
	            r.push(a[i]);
	        }
	    }
	    return r;
	}
	console.log(flatten([5, [22], [[14]], [[4]],[5,6]]));
	
	// Exc 14
	console.log("Exc 14")
	console.log("Part 1")
	var myObj =
	[{'name':'Saurabh', 'age': 30, 'occupation': "Team Leader"},
	{'name':'Anupriya', 'age': 32, 'occupation': "Team Leader"},
	{'name':'Kalyani', 'age': 25, 'occupation': "Programmer"},
	{'name':'Damodaran', 'age': 27, 'occupation': "Programmer"},
	{'name':'Krishnakath', 'age': 22, 'occupation': "Programmer"},
	{'name':'Venketraman', 'age': 28, 'occupation': "Programmer"}];
	for (var i = myObj.length - 1; i >= 0; i--) {
		if(myObj[i].occupation == 'Programmer')
		{
			console.log(myObj[i]);
		}
	}
	console.log("Part 2")
	myObj.sort((a, b) => parseFloat(a.age) -parseFloat(b.age));
	console.log(myObj);

	console.log("Part 3")
	//convert
	var result = {};
	for (var i=0; i<myObj.length; i++) {
	  result[myObj[i].name] = myObj[i].age;
	}
	console.log(result);

	console.log("Part 4")
	function getonlyName(item) {
    return item.name;
	}
	console.log(myObj.map(getonlyName));
	// Exc 15
	console.log("Exc 15");
	var jsonStr = '{"mike":"Book","jason":"sweater","chels":"iPad"}';
	var obj = JSON.parse(jsonStr);
	console.log(obj);
	// Exc 16

	console.log("Exc 16");
	var obj = {
				"One":"1",
				"Two":"2",
				"Three":"3",
				"Four":"4"
				}

	var result = Object.keys(obj).map(function(key) {
	  return obj[key];
	});
	console.log(result);


</script>

</body>
</html>
